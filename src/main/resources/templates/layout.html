<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:fragment="htmlhead">
    <meta charset="utf-8"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
    <meta name="description" content=""></meta>
    <meta name="author" content=""></meta>
    <link rel="shortcut icon" type="image/png" th:href="@{/img/favicon.png}"></link>
   	<title th:text="${title == null} ? 'favorites': ${title} " >(favorites)</title>
   	<link rel="stylesheet" th:href="@{/vendor/fontawesome/css/font-awesome.min.css}" />
    <link rel="stylesheet" th:href="@{/vendor/simple-line-icons/css/simple-line-icons.css}"/>
    <link rel="stylesheet" th:href="@{/vendor/animate.css/animate.min.css}"/>
    <link rel="stylesheet" th:href="@{/vendor/toastr/toastr.min.css}"/>
  	<link rel="stylesheet" th:href="@{/media/css/bootstrap.css}" />
    <link rel="stylesheet" th:href="@{/media/css/app.css}" />
    <link rel="stylesheet" th:href="@{/media/css/theme-i.css}" />
  </head>

  <body class="layout-fixed">
    <div th:fragment="navbar"  class="wrapper"  role="navigation">
		<div th:replace="fragments/header :: header">Header</div>
		<div th:replace="fragments/left :: left">left</div>
		<div th:replace="fragments/sidebar :: sidebar">sidebar</div>
		<div layout:fragment="content" id="content" ></div>
		<div th:replace="fragments/footer :: footer">footer</div>
		<div th:replace="fragments/alert :: alert">alert</div>
    </div>
    <script th:src="@{/webjars/jquery/2.2.4/dist/jquery.min.js}"></script>
	<script th:src="@{/webjars/bootstrap/3.3.6/dist/js/bootstrap.min.js}"></script>
	<script th:src="@{/vendor/modernizr/modernizr.custom.js}" ></script>
	<script th:src="@{/vendor/jQuery-Storage-API/jquery.storageapi.js}" ></script>
	<script th:src="@{/media/js/app.js}" ></script>
	<script th:src="@{/js/layout.js}" ></script>
	<script th:src="@{/vendor/parsleyjs/dist/parsley.min.js}"></script>
	<script th:src="@{/vendor/toastr/toastr.min.js}"></script>  	
	<script th:inline="javascript">
	/*<![CDATA[*/
	    var size = /*[[${size}]]*/ 0;
	    if(size!=null && size>0){
	    	locationUrl('/standard/my','home');
		  }else{
			  locationUrl('/tool','tool');
		  }
	    var config = /*[[${config}]]*/;
		if(null != config){
			$("#layoutConfigId").val(config.id);
		} 
	/*]]>*/
	</script>
	
	<div id="modal-changeFavName" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" data-dismiss="modal" class="close">
                  <span>&times;</span>
               </button>
               <h4 class="modal-title">修改收藏夹名</h4>
            </div>
            <form id="updateFavoritesForm" data-parsley-validate="true" onsubmit="return false">
            <div class="modal-body">
            	<div id="updateErrorMsg" class="alert alert-danger text-center" style="display:none;"></div>
               <div class="form-group has-feedback">
                  <input type="text" name="favoritesName" placeholder="新收藏夹名" class="form-control" data-parsley-error-message="请输入新收藏夹名" required="required"/>
                  <span class="fa fa-folder form-control-feedback text-muted"></span>
               </div>
            </div>
            <div class="modal-footer">
               <button id="updateFavoritesBtn" onclick="updateFavorites()" class="btn btn-block btn-primary mt-lg">确定</button>
            </div>
            <input type="hidden" name="favoritesId" id="favoritesId" />
            </form>
         </div>
      </div>
   </div>
   <div id="modal-removeFav" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" data-dismiss="modal" class="close">
                  <span>&times;</span>
               </button>
               <h4 class="modal-title">删除收藏夹名</h4>
            </div>
            <div class="modal-body">
               <p>删除收藏夹将删除该收藏下所有收藏，且无法找回，是否继续？</p>
            </div>
            <div class="modal-footer">
               <button type="button" data-dismiss="modal" class="btn">取消</button>
               <button id="delFavoritesBtn" onclick="delFavorites()" type="button" class="btn btn-danger">删除收藏夹</button>
            </div>
         </div>
      </div>
   </div>
   <div id="modal-defaultFav" class="modal fade">
      <div class="modal-dialog">
         <div class="modal-content">
            <div class="modal-header">
               <button type="button" data-dismiss="modal" class="close">
                  <span>&times;</span>
               </button>
               <h4 class="modal-title">选择默认收藏夹</h4>
            </div>
            <div class="modal-body">
               <div class="form-group">
                  <select name="layoutFavoritesName" id="layoutFavoritesName" class="form-control">
                     <option value="未读列表">未读列表</option>
                  </select>
               </div>
            </div>
            <div class="modal-footer">
               <button type="button" id="updateFavoritestBtn" onclick="changeConfig('defaultFavorites')" class="btn btn-primary">确定</button>
               <button type="button" data-dismiss="modal" class="btn btn-warning">取消</button>
            </div>
         </div>
      </div>
   </div>
   <input type="hidden" id="layoutConfigId" name="layoutConfigId"/>
</body>
</html>
